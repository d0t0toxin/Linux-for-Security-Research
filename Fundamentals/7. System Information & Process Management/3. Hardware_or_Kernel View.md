* * *

**Hardware / Kernel View:** `/proc`, `/sys`, `lsusb`, `lspci`, `lsmod`, `uname`

* * *

* * *

# `/proc` and `/sys`

Linux provides two virtual filesystems—`/proc` and `/sys`—which allow users and programs to interact with the kernel and view hardware information. These are pseudo-filesystems; they do not contain real files on disk but represent kernel data structures.

* * *

## 1\. `/proc` Filesystem

`/proc` exposes kernel and process information. It is primarily used to get information about system hardware, processes, memory, and other kernel parameters.

### Key Points

- Read-only for most files, but some files can be written to modify kernel behavior.
    
- Auto-generated at runtime.
    
- Provides a process-oriented view (`/proc/[pid]/`) and system-wide info (`/proc/cpuinfo`, `/proc/meminfo`).
    

### Examples

#### 1\. CPU Information

```bash
cat /proc/cpuinfo
```

Output shows processor model, cores, cache size, etc.

#### 2\. Memory Information

```bash
cat /proc/meminfo
```

Displays total memory, free memory, buffers, cached memory.

#### 3\. System Uptime

```bash
cat /proc/uptime
```

Shows uptime in seconds.

#### 4\. List of Processes

```bash
ls /proc | grep '^[0-9]'
```

Each number corresponds to a running process ID.

#### 5\. Kernel Version

```bash
cat /proc/version
```

Displays kernel version and compiler info.

#### 6\. Network Interfaces

```bash
cat /proc/net/dev
```

Shows network interface statistics.

#### 7\. Modify Kernel Parameter (Example: Enable IP Forwarding)

```bash
echo 1 > /proc/sys/net/ipv4/ip_forward
```

This writes to a kernel tunable parameter.

* * *

## 2\. `/sys` Filesystem

`/sys` is a newer virtual filesystem (`sysfs`) used for exporting information about devices and drivers to userspace.

### Key Points

- Provides a structured, device-oriented view.
    
- Each directory represents a device, subsystem, or kernel object.
    
- More consistent than `/proc` for hardware-related info.
    

### Structure Overview

- `/sys/class/` — Device classes (e.g., `net`, `block`, `leds`).
    
- `/sys/block/` — Block devices (e.g., disks).
    
- `/sys/devices/` — Hardware devices hierarchy.
    
- `/sys/module/` — Loaded kernel modules.
    

### Examples

#### 1\. List Block Devices (Disks)

```bash
ls /sys/block
```

Shows disks like `sda`, `sdb`, etc.

#### 2\. Disk Size

```bash
cat /sys/block/sda/size
```

Gives the size in 512-byte sectors.

#### 3\. Network Devices

```bash
ls /sys/class/net
```

Shows network interfaces (e.g., `eth0`, `lo`).

#### 4\. Device Attributes

```bash
cat /sys/class/net/eth0/speed
```

Shows speed of network interface.

#### 5\. Check Module Parameters

```bash
ls /sys/module/usbcore/parameters
```

List of tunable parameters for the `usbcore` module.

#### 6\. Power Management

```bash
cat /sys/class/power_supply/BAT0/capacity
```

Shows battery percentage.

* * *

## Comparison: `/proc` vs `/sys`

| Feature | /proc | /sys |
| --- | --- | --- |
| Purpose | Process and system info | Device and driver info |
| Structure | Flat, semi-organized | Hierarchical, device-oriented |
| Writable | Some files writable | Mostly attributes writable |
| Examples | `/proc/cpuinfo`, `/proc/meminfo` | `/sys/class/net`, `/sys/block/sda` |

* * *

### Summary

- `/proc` is excellent for process-centric and general system info.
    
- `/sys` is the preferred interface for hardware and driver information.
    
- Together, they provide a complete kernel view from userspace.
    

* * *

* * *

# `lsusb` Command in Linux

The `lsusb` command in Linux is used to display information about USB buses in the system and the devices connected to them. It is part of the `usbutils` package.

* * *

## 1\. Basic Usage

```bash
lsusb
```

Output example:

```
Bus 002 Device 003: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub
Bus 002 Device 002: ID 046d:c534 Logitech, Inc. Unifying Receiver
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
```

- `Bus`: USB bus number
    
- `Device`: Device number on the bus
    
- `ID`: Vendor ID and Product ID
    
- Vendor/Device name
    

* * *

## 2\. Detailed Information

```bash
lsusb -v
```

- Displays verbose information about all USB devices.
    
- Includes device descriptors, configurations, interfaces, endpoints.
    
- Requires `sudo` for full access to some information.
    

Example snippet:

```
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  idVendor           0x046d Logitech, Inc.
  idProduct          0xc534
```

* * *

## 3\. Display Devices by Bus Number

```bash
lsusb -s 002:003
```

- Shows information for a specific bus and device.
    
- Syntax: `-s <bus>:<device>`
    

* * *

## 4\. Show Device Tree

```bash
lsusb -t
```

- Shows devices in a tree structure under each USB bus.  
    Example:

```
bus/1 device 1: root hub
  |__ Port 1: Dev 2, If 0, Class=Hub
bus/2 device 1: root hub
  |__ Port 2: Dev 2, If 0, Class=Human Interface Device
```

* * *

## 5\. Filter by Vendor/Product ID

```bash
lsusb -d 046d:c534
```

- Lists only the device with Vendor ID `046d` and Product ID `c534`.

* * *

## 6\. Show Only Device Names

```bash
lsusb -v | grep 'Product'
```

- Filters verbose output to show product names only.

* * *

## 7\. Human-Readable Bus Numbers

```bash
lsusb -D /dev/bus/usb/002/003
```

- Shows detailed info for a specific device node.
    
- `-D` allows you to specify device file path.
    

* * *

## 8\. Other Useful Options

| Option | Description |
| --- | --- |
| `-v` | Verbose output |
| `-s <bus>:<device>` | Show specific device |
| `-t` | Tree view |
| `-d <vendor>:<product>` | Filter by Vendor/Product ID |
| `-D <device>` | Show device by file path |
| `--version` | Show lsusb version |

* * *

### Summary

- `lsusb` is a powerful tool for listing and inspecting USB devices.
    
- Combine it with `grep` and tree options for easier filtering.
    
- Useful for troubleshooting USB devices or drivers.
    

**Tip:** Install it with `sudo apt install usbutils` (Debian/Ubuntu) if not present.

* * *

* * *

# `lspci` Command in Linux

The `lspci` command is used to list all PCI (Peripheral Component Interconnect) devices in the system. It provides detailed information about the hardware connected to PCI buses.

`lspci` is part of the `pciutils` package.

* * *

## 1\. Basic Usage

```bash
lspci
```

Output example:

```
00:00.0 Host bridge: Intel Corporation 440FX - 82441FX PMC [Natoma] (rev 02)
00:01.0 ISA bridge: Intel Corporation 82371AB/EB/MB PIIX4 ISA (rev 03)
00:02.0 VGA compatible controller: Cirrus Logic GD 5446
```

- `00:00.0` — Bus:Device.Function
    
- Device description includes type, vendor, and model.
    

* * *

## 2\. Show Detailed Information

```bash
lspci -v
```

- Verbose output showing driver, IRQ, memory regions, capabilities, etc.
    
- Example snippet:
    

```
00:02.0 VGA compatible controller: Cirrus Logic GD 5446
    Subsystem: Cirrus Logic GD 5446
    Flags: bus master, VGA, ...
    Memory at d0000000 (32-bit, non-prefetchable)
```

* * *

## 3\. Show Very Detailed Information

```bash
lspci -vvv
```

- Shows maximum verbose info about the device.
    
- Includes detailed capabilities and configuration.
    

* * *

## 4\. Show PCI Devices with Numeric IDs

```bash
lspci -n
```

Output example:

```
00:00.0 0600: 8086:1237 (rev 02)
00:02.0 0300: 1013:00b8
```

- Shows vendor and device IDs instead of names.
    
- Useful for scripting and searching databases.
    

* * *

## 5\. Show Devices with Driver Info

```bash
lspci -k
```

- Shows kernel modules managing each device.
    
- Example:
    

```
00:02.0 VGA compatible controller: Cirrus Logic GD 5446
    Kernel driver in use: cirrus
    Kernel modules: cirrus
```

* * *

## 6\. Display Specific Device

```bash
lspci -s 00:02.0
```

- Show info for a specific PCI device by bus ID.

* * *

## 7\. Show Devices by Class

```bash
lspci -d ::0300
```

- Show all VGA compatible controllers (`0300` is PCI class code for VGA).
    
- Format: `vendor:device:class` (empty fields with `::` are wildcards).
    

* * *

## 8\. Tree View

```bash
lspci -t
```

- Displays PCI hierarchy in tree form.
    
- Example:
    

```
-[0000:00]-+-00.0  Intel Corporation 440FX - 82441FX PMC
           +-01.0  Intel Corporation 82371AB/EB/MB PIIX4 ISA
           +-02.0  Cirrus Logic GD 5446
```

* * *

## 9\. Filter by Vendor or Device Name

```bash
lspci | grep -i nvidia
```

- Filters output to only show NVIDIA devices.

* * *

## 10\. Other Useful Options

| Option | Description |
| --- | --- |
| `-v` | Verbose output |
| `-vvv` | Very verbose |
| `-n` | Show numeric IDs |
| `-k` | Show kernel drivers/modules |
| `-s <bus:device>` | Show specific device |
| `-d <vendor:device>` | Filter by vendor/device ID |
| `-t` | Tree view |
| `--version` | Show version |

* * *

### Summary

- `lspci` is an essential tool for listing PCI devices and checking hardware information.
    
- Useful for troubleshooting hardware, checking drivers, or identifying devices.
    

**Tip:** Install it with `sudo apt install pciutils` (Debian/Ubuntu) if not present.

* * *

* * *

# `lsmod` Command in Linux

The `lsmod` command is used to display information about the currently loaded kernel modules in Linux. It provides details such as module size and dependencies.

`lsmod` is part of the `kmod` package.

* * *

## 1\. Basic Usage

```bash
lsmod
```

Output example:

```
Module                  Size  Used by
nvidia              12345678  30
snd_hda_intel          45056  3
snd_hda_codec         126976  2 snd_hda_intel
```

- `Module` — Name of the loaded kernel module
    
- `Size` — Size of the module in bytes
    
- `Used by` — Number of instances or other modules using it
    

* * *

## 2\. Explanation of Output

- **Module Name:** The kernel module loaded.
    
- **Size:** Memory footprint of the module.
    
- **Used by:** Dependencies or count of processes using the module.
    

Example:

```
snd_hda_intel 45056 3
```

Means `snd_hda_intel` is 45056 bytes and used by 3 other modules.

* * *

## 3\. Show Module Dependencies

```bash
lsmod | grep nvidia
```

- Filters loaded modules to show only NVIDIA-related modules.
    
- Useful for troubleshooting driver issues.
    

* * *

## 4\. Checking Module Usage Count

- `Used by` column indicates how many modules or processes rely on a module.
    
- A value of `0` means the module is currently not used but still loaded.
    

* * *

## 5\. Related Commands

| Command | Purpose |
| --- | --- |
| `modinfo <module>` | Shows detailed info about a module (author, version, parameters) |
| `modprobe -r <module>` | Remove a module from the kernel |
| `insmod <module.ko>` | Insert a module manually |
| `depmod` | Show module dependencies |

Example:

```bash
modinfo snd_hda_intel
```

Displays author, description, license, and parameters.

* * *

## 6\. Practical Examples

### 1\. List All Loaded Modules

```bash
lsmod
```

### 2\. Filter by a Specific Module

```bash
lsmod | grep usb
```

Shows all loaded USB-related kernel modules.

### 3\. Check if a Module is Loaded

```bash
lsmod | grep ipv6
```

- If output exists, the module is loaded.

### 4\. Check Module Dependencies

```bash
modinfo snd_hda_codec
```

- Check which other modules or devices depend on it.

* * *

### Summary

- `lsmod` provides a snapshot of loaded kernel modules.
    
- Helps in debugging hardware and driver issues.
    
- Combine with `modinfo`, `modprobe`, and `insmod` for full module management.
    

**Tip:** Use `man lsmod` for additional options and details.

* * *

* * *

# `uname` Command in Linux

The `uname` command in Linux is used to display system information such as the kernel name, version, architecture, and more. It provides a quick way to get details about the operating system and hardware.

* * *

## 1\. Basic Usage

```bash
uname
```

- Displays the kernel name.
    
- Example output:
    

```
Linux
```

* * *

## 2\. Common Options

| Option | Description |
| --- | --- |
| `-a` | Show all information |
| `-s` | Kernel name |
| `-n` | Network node hostname |
| `-r` | Kernel release |
| `-v` | Kernel version |
| `-m` | Machine hardware name |
| `-p` | Processor type |
| `-i` | Hardware platform |
| `-o` | Operating system |

* * *

## 3\. Examples

### 1\. Show All System Information

```bash
uname -a
```

Example output:

```
Linux myhost 5.15.0-50-generic #56-Ubuntu SMP Tue Oct 11 15:44:12 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux
```

- Kernel name, hostname, kernel version, build date, architecture, OS

### 2\. Show Only Kernel Name

```bash
uname -s
```

Output:

```
Linux
```

### 3\. Show Hostname

```bash
uname -n
```

Output:

```
myhost
```

### 4\. Show Kernel Release

```bash
uname -r
```

Output:

```
5.15.0-50-generic
```

### 5\. Show Kernel Version

```bash
uname -v
```

Output:

```
#56-Ubuntu SMP Tue Oct 11 15:44:12 UTC 2022
```

### 6\. Show Machine Architecture

```bash
uname -m
```

Output:

```
x86_64
```

### 7\. Show Processor Type

```bash
uname -p
```

Output:

```
x86_64
```

### 8\. Show Hardware Platform

```bash
uname -i
```

Output:

```
x86_64
```

### 9\. Show Operating System

```bash
uname -o
```

Output:

```
GNU/Linux
```

* * *

## 4\. Summary

- `uname` provides essential system and kernel information.
    
- Combining options, especially `-a`, gives a complete overview.
    
- Useful for scripting, troubleshooting, or system audits.
    

**Tip:** Use `man uname` for a complete list of options and details.

* * *

* * *

&nbsp;
