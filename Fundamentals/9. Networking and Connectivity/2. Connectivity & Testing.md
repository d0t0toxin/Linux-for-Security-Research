***
**Connectivity & Testing:** `ping`, `traceroute`, `tracepath`, `mtr`, `nc`
***
***
# Linux `ping` Command

The `ping` command in Linux is a network utility used to test the reachability of a host (IP address or domain name) and measure round-trip time for messages sent from the local system to the destination.

* * *

## Syntax

```bash
ping [options] destination
```

- `destination` can be an IP address (IPv4 or IPv6) or a domain name.

* * *

## Basic Usage

### 1\. Ping a Host

```bash
ping google.com
```

- Sends ICMP Echo Request packets to `google.com`.
    
- Output shows each reply with time taken.
    

### 2\. Ping a Specific Number of Times

```bash
ping -c 5 google.com
```

- `-c 5` limits ping to 5 packets.

### 3\. Ping with Interval

```bash
ping -i 2 google.com
```

- `-i 2` sends packets every 2 seconds.

### 4\. Ping with Packet Size

```bash
ping -s 1000 google.com
```

- `-s 1000` sends packets of 1000 bytes.

### 5\. Flood Ping (for Testing, requires root)

```bash
sudo ping -f google.com
```

- Sends packets as fast as possible.
    
- Useful for stress testing networks.
    

### 6\. Ping with TTL (Time To Live)

```bash
ping -t 5 google.com
```

- `-t 5` sets the TTL to 5 hops.

### 7\. Ping Using IPv6

```bash
ping6 ipv6.google.com
```

- Use `ping6` to test IPv6 addresses.

### 8\. Display Numeric Output Only

```bash
ping -n google.com
```

- `-n` disables hostname resolution.

### 9\. Quiet Output (Summary Only)

```bash
ping -q -c 4 google.com
```

- `-q` shows only summary after finishing.

### 10\. Verbose Output

```bash
ping -v google.com
```

- Displays detailed packet info.

* * *

## Example Output

```
PING google.com (142.250.190.78) 56(84) bytes of data.
64 bytes from lhr25s01-in-f14.1e100.net (142.250.190.78): icmp_seq=1 ttl=117 time=14.2 ms
64 bytes from lhr25s01-in-f14.1e100.net (142.250.190.78): icmp_seq=2 ttl=117 time=14.1 ms

--- google.com ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1002ms
rtt min/avg/max/mdev = 14.107/14.172/14.238/0.065 ms
```

* * *

## Options Summary

| Option | Description |
| --- | --- |
| `-c <count>` | Stop after sending `<count>` packets |
| `-i <interval>` | Wait `<interval>` seconds between packets |
| `-s <size>` | Send packets of `<size>` bytes |
| `-t <ttl>` | Set the Time To Live |
| `-f` | Flood ping (root only) |
| `-n` | Numeric output only (no DNS lookup) |
| `-q` | Quiet output (summary only) |
| `-v` | Verbose output |
| `-6` or `ping6` | Use IPv6 |

* * *

## Notes

- `ping` uses ICMP protocol, so firewalls may block it.
    
- Regular users cannot use flood ping (`-f`) without sudo.
    
- Stopping ping can be done with `Ctrl+C`.
    

* * *

* * *

# Linux `traceroute` Command

The `traceroute` command in Linux is a network diagnostic tool used to track the path packets take from your machine to a destination host, displaying each hop along the route and the time taken.

* * *

## Syntax

```bash
traceroute [options] destination
```

- `destination` can be an IP address or a domain name.

* * *

## Basic Usage

### 1\. Trace Route to a Host

```bash
traceroute google.com
```

- Displays all hops from your machine to `google.com`.

### 2\. Limit Number of Hops

```bash
traceroute -m 10 google.com
```

- `-m 10` limits the maximum number of hops to 10.

### 3\. Set Packet Size

```bash
traceroute -q 1 -w 2 -N 40 google.com
```

- `-N 40` sets the packet payload size to 40 bytes.
    
- `-q 1` sends 1 probe per hop.
    
- `-w 2` waits 2 seconds for a response.
    

### 4\. Use TCP Instead of Default UDP

```bash
traceroute -T google.com
```

- `-T` uses TCP SYN packets (useful if UDP is blocked).

### 5\. Use ICMP Instead of Default UDP

```bash
traceroute -I google.com
```

- `-I` uses ICMP Echo Request packets (similar to ping).

### 6\. Specify Port Number (TCP)

```bash
traceroute -T -p 80 google.com
```

- Sends TCP SYN packets to port 80.

### 7\. Numeric Output Only

```bash
traceroute -n google.com
```

- Shows IP addresses only, no DNS resolution.

### 8\. Verbose Output

```bash
traceroute -v google.com
```

- Provides detailed info about each probe.

* * *

## Example Output

```
traceroute to google.com (142.250.190.78), 30 hops max, 60 byte packets
 1  192.168.1.1 (192.168.1.1)  1.123 ms  1.087 ms  1.057 ms
 2  10.0.0.1 (10.0.0.1)  5.234 ms  5.198 ms  5.165 ms
 3  142.250.190.78 (142.250.190.78)  14.123 ms  14.098 ms  14.056 ms
```

- Each line represents a hop.
    
- Times show round-trip latency to each hop.
    
- `* * *` indicates a timeout or unreachable hop.
    

* * *

## Common Options Summary

| Option | Description |
| --- | --- |
| `-m <max_ttl>` | Set maximum number of hops |
| `-q <nqueries>` | Number of probes per hop (default 3) |
| `-w <timeout>` | Wait `<timeout>` seconds for each reply |
| `-n` | Numeric output only (no DNS resolution) |
| `-I` | Use ICMP Echo Request instead of UDP |
| `-T` | Use TCP SYN packets |
| `-p <port>` | Specify destination port for TCP |
| `-v` | Verbose output |

* * *

## Notes

- `traceroute` relies on TTL (Time To Live) to map network hops.
    
- Some routers/firewalls may block ICMP/UDP, causing `*` in the output.
    
- Useful for network troubleshooting, latency measurement, and identifying routing issues.
    
- Install if missing: `sudo apt install traceroute` (Debian/Ubuntu) or `sudo yum install traceroute` (RHEL/CentOS).
    

* * *

* * *

# Linux `tracepath` Command

The `tracepath` command in Linux is a network diagnostic tool similar to `traceroute`. It traces the path packets take from your machine to a destination host, identifying the maximum transmission unit (MTU) along the route.

* * *

## Syntax

```bash
tracepath [options] destination
```

- `destination` can be an IP address or a domain name.

* * *

## Basic Usage

### 1\. Trace Path to a Host

```bash
tracepath google.com
```

- Displays each hop from your machine to `google.com` along with hop numbers, delays, and MTU info.

### 2\. Trace Path to a Specific Host with Numeric Output

```bash
tracepath -n 8.8.8.8
```

- `-n` prevents DNS resolution and shows numeric IP addresses.

### 3\. Trace Path with Maximum Hops

```bash
tracepath -m 15 google.com
```

- `-m 15` limits tracing to a maximum of 15 hops.

### 4\. Verbose Output

```bash
tracepath -v google.com
```

- Shows additional information for debugging.

* * *

## Example Output

```
 1:  192.168.1.1             1.123ms pmtu 1500
 1:  192.168.1.1             1.087ms pmtu 1500
 2:  10.0.0.1                 5.234ms pmtu 1500
 3:  142.250.190.78          14.123ms pmtu 1500
```

- Each line represents a hop.
    
- `pmtu` shows the Path Maximum Transmission Unit for that hop.
    
- Times show round-trip latency to each hop.
    
- `?` indicates an unknown MTU.
    

* * *

## Key Differences Between `tracepath` and `traceroute`

| Feature | tracepath | traceroute |
| --- | --- | --- |
| Root Privileges | Not required | Sometimes required for TCP/ICMP modes |
| MTU Discovery | Yes | No (unless using special options) |
| Default Protocol | UDP | UDP (ICMP or TCP optional) |
| Installation | Usually pre-installed | May need installation |

* * *

## Notes

- `tracepath` automatically detects MTU along the route.
    
- Useful for troubleshooting path and MTU issues.
    
- Stopping `tracepath` is done with `Ctrl+C`.
    
- Numeric output helps avoid DNS resolution delays.
    

* * *

* * *

# Linux `mtr` Command

The `mtr` (My Traceroute) command in Linux combines the functionality of `ping` and `traceroute`. It provides a dynamic, real-time view of the route packets take to a destination and measures the latency and packet loss at each hop.

* * *

## Syntax

```bash
mtr [options] destination
```

- `destination` can be an IP address or a domain name.

* * *

## Basic Usage

### 1\. Run MTR to a Host

```bash
mtr google.com
```

- Provides an interactive, real-time view of the route and latency.
    
- Default mode displays continuously until interrupted with `q`.
    

### 2\. Run MTR in Report Mode

```bash
mtr -r -c 10 google.com
```

- `-r` generates a report mode (non-interactive).
    
- `-c 10` sends 10 packets per hop.
    

### 3\. Show Numeric IPs Only

```bash
mtr -n google.com
```

- Prevents DNS resolution, showing only IP addresses.

### 4\. Use ICMP Instead of UDP

```bash
mtr -I google.com
```

- Sends ICMP Echo Requests instead of default UDP packets.

### 5\. Change Interval Between Probes

```bash
mtr -i 2 google.com
```

- `-i 2` sets the interval between probes to 2 seconds.

### 6\. Set Maximum TTL

```bash
mtr --ttl 20 google.com
```

- Limits the maximum number of hops to 20.

### 7\. Output in JSON or CSV

```bash
mtr -r -c 5 --json google.com
```

- Useful for scripting and logging.

* * *

## Example Report Output

```
HOST: myhost.example.com      Loss%   Snt   Last   Avg  Best  Wrst StDev
 1. 192.168.1.1               0.0%    10    1.2   1.1   1.0   1.3   0.1
 2. 10.0.0.1                  0.0%    10    5.2   5.3   5.0   5.6   0.2
 3. 142.250.190.78            0.0%    10   14.1  14.2  14.0  14.4   0.2
```

- `Loss%` shows packet loss at each hop.
    
- `Snt` is the number of packets sent.
    
- `Last`, `Avg`, `Best`, `Wrst`, `StDev` show latency statistics.
    

* * *

## Common Options Summary

| Option | Description |
| --- | --- |
| `-r` | Report mode (non-interactive) |
| `-c <count>` | Number of packets per hop in report mode |
| `-n` | Numeric output only (no DNS lookup) |
| `-I` | Use ICMP Echo Request instead of UDP |
| `-i <interval>` | Interval between probes in seconds |
| `--ttl <max_ttl>` | Maximum number of hops |
| `--json` | Output in JSON format |
| `-b` | Show both hostnames and IPs |

* * *

## Notes

- `mtr` provides continuous monitoring unlike `traceroute`.
    
- Use `q` to quit interactive mode.
    
- Can detect packet loss and latency issues in real-time.
    
- Install if missing: `sudo apt install mtr` (Debian/Ubuntu) or `sudo yum install mtr` (RHEL/CentOS).
    

* * *

* * *

# Linux `nc` (Netcat) Command

The `nc` (or `netcat`) command in Linux is a versatile networking utility used for reading from and writing to network connections using TCP or UDP. It's often referred to as the "Swiss Army knife" of networking.

* * *

## Syntax

```bash
nc [options] host port
```

- `host`: IP address or hostname of the target machine.
    
- `port`: Destination port number.
    

* * *

## Basic Usage

### 1\. Connect to a Remote Host on a Port

```bash
nc google.com 80
```

- Connects to `google.com` on port 80 (HTTP).
    
- You can type HTTP commands manually after connecting.
    

### 2\. Send a File Over TCP

**On Receiver:**

```bash
nc -l -p 1234 > received_file.txt
```

- `-l` listens on port 1234 and saves incoming data to `received_file.txt`.

**On Sender:**

```bash
nc 192.168.1.10 1234 < file_to_send.txt
```

- Sends `file_to_send.txt` to the receiver.

### 3\. Create a Simple TCP Server

```bash
nc -l -p 8080
```

- Listens on port 8080. Can accept connections and communicate.

### 4\. Scan Open Ports on a Host

```bash
nc -zv 192.168.1.1 20-80
```

- `-z` scans without sending data.
    
- `-v` enables verbose mode.
    
- Scans ports 20 through 80 on the host.
    

### 5\. Banner Grabbing

```bash
nc example.com 25
```

- Connect to port 25 (SMTP) and retrieve service banner.

### 6\. UDP Communication

```bash
nc -u -l 5000
```

- `-u` specifies UDP.
    
- `-l` listens on UDP port 5000.
    

### 7\. Chat Between Two Machines

**Machine A:**

```bash
nc -l -p 5555
```

**Machine B:**

```bash
nc 192.168.1.10 5555
```

- Simple text chat over TCP.

### 8\. Execute a Remote Command (Backdoor - Use Cautiously)

**Listener:**

```bash
nc -l -p 4444 -e /bin/bash
```

**Client:**

```bash
nc 192.168.1.10 4444
```

- Opens a shell remotely. **Use only in controlled environments for testing.**

* * *

## Common Options Summary

| Option | Description |
| --- | --- |
| `-l` | Listen mode (server) |
| `-p <port>` | Specify port for listening or connecting |
| `-u` | Use UDP instead of TCP |
| `-v` | Verbose output |
| `-z` | Scan without sending data (port scan) |
| `-e <program>` | Execute a program after connection |
| `-n` | Do not do DNS lookups |
| `-w <timeout>` | Timeout for connects and final net reads |

* * *

## Notes

- `nc` is extremely flexible: it can be used for file transfer, port scanning, debugging, and network troubleshooting.
    
- When using `-e` to execute programs, ensure you are in a safe and controlled environment.
    
- `nc` does not come pre-installed on all Linux distributions. Install with:
    
    - Debian/Ubuntu: `sudo apt install netcat` or `netcat-openbsd`
        
    - RHEL/CentOS: `sudo yum install nc`
        

* * *

* * *

&nbsp;
