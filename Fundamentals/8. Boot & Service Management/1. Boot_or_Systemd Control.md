* * *
**Boot / Systemd Control:** `systemctl`, `journalctl`, `systemd-analyze`, `loginctl`  
***
***

# Linux `systemctl` Command 

`systemctl` is the primary command-line utility used to interact with the `systemd` system and service manager in Linux. It allows administrators to manage services, check system status, enable or disable services, and more.

* * *

## Check Systemd Version

```bash
systemctl --version
```

* * *

## Service Management

### Start a Service

```bash
sudo systemctl start <service_name>
```

### Stop a Service

```bash
sudo systemctl stop <service_name>
```

### Restart a Service

```bash
sudo systemctl restart <service_name>
```

### Reload a Service

```bash
sudo systemctl reload <service_name>
```

### Check Status of a Service

```bash
systemctl status <service_name>
```

* * *

## Enable/Disable Services

### Enable a Service

```bash
sudo systemctl enable <service_name>
```

### Disable a Service

```bash
sudo systemctl disable <service_name>
```

### Check if Enabled

```bash
systemctl is-enabled <service_name>
```

* * *

## List Services

```bash
systemctl list-units --type=service
systemctl list-unit-files --type=service
```

* * *

## Mask/Unmask Services

### Mask a Service

```bash
sudo systemctl mask <service_name>
```

### Unmask a Service

```bash
sudo systemctl unmask <service_name>
```

* * *

## System State and Targets

### Check Current Target

```bash
systemctl get-default
```

### Change Default Target

```bash
sudo systemctl set-default <target_name>
```

### Reboot or Shutdown

```bash
sudo systemctl reboot
sudo systemctl poweroff
sudo systemctl halt
```

* * *

## Timers

### List Timers

```bash
systemctl list-timers
```

### Start a Timer

```bash
sudo systemctl start <timer_name>
```

* * *

## Other Useful Commands

```bash
sudo systemctl daemon-reload
systemctl --failed
systemctl show <service_name>
```

* * *

## All Options and Common Flags

- `--version` : Show systemctl version.
    
- `--help` : Display help and available commands.
    
- `-t, --type=` : Specify unit type (service, socket, mount, device, etc.).
    
- `-a, --all` : Show all units, including inactive.
    
- `-l, --full` : Show full unit output without truncation.
    
- `--state=` : Filter units by state (active, inactive, failed, etc.).
    
- `--failed` : Show all failed units.
    
- `--no-pager` : Disable paging of output.
    
- `--quiet` : Suppress output.
    
- `--system` : Connect to the system manager.
    
- `--user` : Connect to the user manager.
    

**Unit Commands:**

- `start <unit>` : Start a unit immediately.
    
- `stop <unit>` : Stop a unit immediately.
    
- `restart <unit>` : Stop and then start a unit.
    
- `reload <unit>` : Reload configuration without stopping.
    
- `status <unit>` : Show detailed status.
    
- `enable <unit>` : Enable unit at boot.
    
- `disable <unit>` : Disable unit at boot.
    
- `is-enabled <unit>` : Check if unit is enabled.
    
- `mask <unit>` : Prevent starting a unit.
    
- `unmask <unit>` : Allow starting a unit.
    
- `get-default` : Show default target.
    
- `set-default <target>` : Set default target.
    
- `list-units` : List active units.
    
- `list-unit-files` : List all unit files.
    
- `list-timers` : List timers.
    
- `daemon-reload` : Reload systemd manager configuration.
    

* * *

**Note:** Always use `sudo` for commands that modify service state or system targets.

* * *

* * *

# Linux `journalctl` Command 

`journalctl` is a command-line utility used to view and query logs managed by `systemd`'s journal service (`systemd-journald`). It allows administrators to inspect system logs, filter them, and troubleshoot issues effectively.

* * *

## Basic Usage

Show all logs:

```bash
journalctl
```

This displays the system log starting from the oldest entry.

* * *

## Show Recent Logs

Show logs in reverse chronological order (newest first):

```bash
journalctl -r
```

Show last 100 log lines:

```bash
journalctl -n 100
```

* * *

## Follow Logs in Real-Time

Tail the logs like `tail -f`:

```bash
journalctl -f
```

* * *

## Filtering Logs

### By Unit/Service

```bash
journalctl -u <service_name>
```

**Example:**

```bash
journalctl -u apache2
```

Show logs for a service since the last boot:

```bash
journalctl -u apache2 -b
```

### By Priority/Severity

Log priorities in `systemd` (lower number = higher severity):

- 0: emerg
    
- 1: alert
    
- 2: crit
    
- 3: err
    
- 4: warning
    
- 5: notice
    
- 6: info
    
- 7: debug
    

Show only error logs:

```bash
journalctl -p err
```

Show warnings and above:

```bash
journalctl -p warning
```

### By Time

Logs since a specific date/time:

```bash
journalctl --since "2026-01-20 12:00:00"
```

Logs between two times:

```bash
journalctl --since "2026-01-20" --until "2026-01-21"
```

### By Boot

Show logs from the current boot:

```bash
journalctl -b
```

Show logs from previous boot:

```bash
journalctl -b -1
```

* * *

## Output Options

- Show logs in JSON format:

```bash
journalctl -o json
```

- Show logs in short or verbose format:

```bash
journalctl -o short
journalctl -o verbose
```

- Limit output width to terminal size:

```bash
journalctl -o cat
```

* * *

## Persistence and Storage

By default, `journalctl` stores logs in `/run/log/journal` (volatile). To make logs persistent across reboots:

```bash
sudo mkdir -p /var/log/journal
sudo systemd-tmpfiles --create --prefix /var/log/journal
sudo systemctl restart systemd-journald
```

Check journal disk usage:

```bash
journalctl --disk-usage
```

Vacuum old logs to free space:

```bash
journalctl --vacuum-size=500M
journalctl --vacuum-time=7d
```

* * *

## Other Useful Commands

- Show all available fields for a log entry:

```bash
journalctl -o verbose
```

- Filter logs by process ID (PID):

```bash
journalctl _PID=1234
```

- Filter by executable name:

```bash
journalctl _EXE=/usr/sbin/sshd
```

- Filter by user:

```bash
journalctl _UID=1000
```

* * *

## All Options and Flags

- `-u, --unit=` : Filter logs for a specific systemd unit.
    
- `-p, --priority=` : Show logs of specific priority.
    
- `-f, --follow` : Follow logs in real-time.
    
- `-r, --reverse` : Show newest entries first.
    
- `-n, --lines=` : Show last N lines.
    
- `-b, --boot=` : Show logs from a specific boot.
    
- `--since=` : Show logs since a specific date/time.
    
- `--until=` : Show logs until a specific date/time.
    
- `-o, --output=` : Set output format (short, json, json-pretty, verbose, cat, etc.).
    
- `--disk-usage` : Show disk usage of journal logs.
    
- `--vacuum-size=` : Reduce journal size to specified limit.
    
- `--vacuum-time=` : Remove logs older than specified time.
    
- `_PID=`, `_UID=`, `_EXE=` : Filter by process ID, user ID, or executable.
    
- `--no-pager` : Disable paging of output.
    

* * *

**Note:** Use `sudo` to view logs from system services if needed.

* * *

* * *

# Linux `systemd-analyze` Command

`systemd-analyze` is a powerful tool for diagnosing and analyzing the boot performance and startup of services on Linux systems using `systemd`. It helps administrators understand where time is spent during boot, check service load times, and optimize startup performance.

* * *

## Basic Usage

Show general help and available commands:

```bash
systemd-analyze --help
```

* * *

## Analyze Boot Time

### Overall Boot Time

Display total time taken to boot the system:

```bash
systemd-analyze
```

**Example Output:**

```
Startup finished in 3.456s (kernel) + 7.891s (userspace) = 11.347s
```

### Time Spent in Firmware, Loader, Kernel, Userspace

```bash
systemd-analyze time
```

Provides detailed breakdown of time spent in each stage.

* * *

## Critical Chain Analysis

Shows the chain of services and their dependencies that took the most time to initialize:

```bash
systemd-analyze critical-chain
```

**Example Output:**

```
 graphical.target @7.891s
 └─gdm.service @7.123s
   └─network.target @6.567s
```

This helps identify which service delays boot.

* * *

## Plot Boot Performance

Generate a visual representation of boot sequence in SVG format:

```bash
systemd-analyze plot > boot.svg
```

Open `boot.svg` in a browser to visualize boot timings of all units.

* * *

## Blame Services

List all services ordered by time taken to initialize (slowest first):

```bash
systemd-analyze blame
```

This helps pinpoint services that significantly delay boot.

* * *

## Verify Unit Files

Check syntax and integrity of systemd unit files:

```bash
systemd-analyze verify <unit_file>
```

**Example:**

```bash
systemd-analyze verify /etc/systemd/system/apache2.service
```

* * *

## Other Useful Commands

- List security features enabled in systemd units:

```bash
systemd-analyze security <unit_name>
```

- Time the execution of a command with systemd:

```bash
systemd-analyze time <command>
```

* * *

## All Options and Flags

- `time` : Show time spent in firmware, loader, kernel, and userspace.
    
- `blame` : Show list of all units ordered by startup time.
    
- `critical-chain` : Show dependency chain of units that delayed boot.
    
- `plot` : Generate an SVG plot of the boot sequence.
    
- `verify <unit_file>` : Verify syntax and integrity of unit files.
    
- `security <unit>` : Show security features applied to a unit.
    
- `dot` : Generate a dependency tree in Graphviz dot format.
    
- `help` : Show help information.
    
- `--no-pager` : Disable paging of output.
    

* * *

**Note:** Running commands like `blame`, `critical-chain`, or `plot` does not require `sudo`, but verifying unit files or checking security may require elevated privileges.

* * *

* * *

# Linux `loginctl` Command

`loginctl` is a command-line utility that interacts with `systemd-logind`, the system service that manages user logins and seats. It allows administrators to view sessions, users, and seats, manage user sessions, and troubleshoot login issues.

* * *

## Basic Usage

Show help and all available commands:

```bash
loginctl --help
```

* * *

## List Sessions, Users, and Seats

### List All Sessions

```bash
loginctl list-sessions
```

**Example Output:**

```
   SESSION        UID USER             SEAT  TTY
        2       1000 sushil           seat0 tty2
```

### List All Users

```bash
loginctl list-users
```

### List All Seats

```bash
loginctl list-seats
```

A seat represents a group of devices (monitors, keyboards, mice) assigned to a user login.

* * *

## Show Session Details

Show detailed information about a specific session:

```bash
loginctl show-session <session_id>
```

**Example:**

```bash
loginctl show-session 2
```

Information includes UID, user, seat, session type, TTY, and more.

* * *

## Session Management

### Terminate a Session

Forcefully terminate a session:

```bash
loginctl terminate-session <session_id>
```

**Example:**

```bash
loginctl terminate-session 2
```

* * *

## User Management

### Show User Details

```bash
loginctl show-user <user_name_or_uid>
```

**Example:**

```bash
loginctl show-user sushil
```

Information includes UID, active sessions, and login status.

### Terminate a User Session

Kill all sessions of a user:

```bash
loginctl terminate-user <user_name_or_uid>
```

**Example:**

```bash
loginctl terminate-user sushil
```

* * *

## Seat Management

Show details about a seat:

```bash
loginctl show-seat <seat_name>
```

**Example:**

```bash
loginctl show-seat seat0
```

Displays active sessions, session type, and seats connected.

* * *

## Locking and Unlocking Sessions

Lock a session:

```bash
loginctl lock-session <session_id>
```

Unlock a session:

```bash
loginctl unlock-session <session_id>
```

* * *

## Other Useful Commands

- Check current session:

```bash
loginctl show-session $(loginctl | grep $(whoami) | awk '{print $1}')
```

- List only active sessions:

```bash
loginctl list-sessions --no-legend --no-pager | grep active
```

* * *

## All Options and Flags

- `list-sessions` : List all current sessions.
    
- `list-users` : List all users currently logged in.
    
- `list-seats` : List all seats.
    
- `show-session <id>` : Show detailed info about a session.
    
- `show-user <user>` : Show detailed info about a user.
    
- `show-seat <seat>` : Show details about a seat.
    
- `terminate-session <id>` : Terminate a specific session.
    
- `terminate-user <user>` : Terminate all sessions of a user.
    
- `lock-session <id>` : Lock a specific session.
    
- `unlock-session <id>` : Unlock a specific session.
    
- `--no-legend` : Do not print header legend.
    
- `--no-pager` : Disable paging of output.
    
- `--help` : Show help message.
    

* * *

**Note:** Many `loginctl` commands require root privileges to terminate or manage sessions of other users.

* * *

* * *

&nbsp;
